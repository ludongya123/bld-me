{"version":3,"sources":["webpack:///G:/小程序/bld-me/App.vue","webpack:///G:/小程序/bld-me/App.vue?326e","webpack:///G:/小程序/bld-me/App.vue?b1d2","webpack:///G:/小程序/bld-me/App.vue?ba0e","webpack:///G:/小程序/bld-me/App.vue?0b1b"],"names":["globalData","longitude","latitude","onLaunch","onShow","$login","then","r","that","uni","getSetting","success","res","authSetting","undefined","getLocationInfo","showModal","title","content","confirm","openSetting","console","log","onHide","methods","authorize","scope","getLocation","type","coords","getApp","authLocation","fail","e","errMsg"],"mappings":"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","file":"common/main.js","sourcesContent":["\nimport {\n\tmapMutations\n} from \"vuex\"\nimport { gcj02tobd09 } from \"./util/util.js\" \nexport default {\n\tglobalData: {\n\t\tlongitude: '', // 经度\n\t\tlatitude: \"\", // 维度\t\n\t},\n\tonLaunch: function() {\n\n\t},\n\tonShow: function() {\n\t\tthis.$login().then(r => {\n\t\t\tif (!r) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar that = this;\n\n\t\t\tuni.getSetting({\n\t\t\t\tsuccess(res) { \n\t\t\t\t\tif (res.authSetting['scope.userLocation'] === undefined) {\n\t\t\t\t\t\t// 未授权过位置信息 \n\t\t\t\t\t\tthat.getLocationInfo()\n\t\t\t\t\t}\n\t\t\t\t\t// 拒绝授权\n\t\t\t\t\tif (res.authSetting['scope.userLocation'] === false) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提醒',\n\t\t\t\t\t\t\tcontent: '为了更好的享受我们的服务，请授权你的地理位置',\n\t\t\t\t\t\t\tsuccess(r) {\n\t\t\t\t\t\t\t\tif (r.confirm) {\n\t\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tif (res.authSetting['scope.userLocation'] === true) {\n\t\t\t\t\t\tthat.getLocationInfo()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t}) \n\t},\n\tonHide: function() { \n\t},\n\tmethods: {\n\t\t...mapMutations(['authLocation']),\n\t\t// 获取地理位置\n\t\tgetLocationInfo() {\n\t\t\tlet that = this;\n\t\t\tuni.authorize({\n\t\t\t\tscope: 'scope.userLocation',\n\t\t\t\tsuccess() {\n\t\t\t\t\tuni.getLocation({\n\t\t\t\t\t\ttype: 'gcj02',\n\t\t\t\t\t\tsuccess: function(res) { \n\t\t\t\t\t\t\tlet coords = gcj02tobd09(res.longitude,res.latitude) \n\t\t\t\t\t\t\tgetApp().globalData.longitude = coords[0]; //当前位置的经度\n\t\t\t\t\t\t\tgetApp().globalData.latitude = coords[1]; //当前位置的纬度 \n\t\t\t\t\t\t\tthat.authLocation()\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail(e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tlet that = this;\n\t\t\t\t\tif (e.errMsg == \"authorize:fail auth deny\") {\n\t\t\t\t\t\t// \n\t\t\t\t\t\t// uni.showModal({\n\t\t\t\t\t\t// \ttitle: '提醒',\n\t\t\t\t\t\t// \tcontent:'为了更好的享受我们的服务，请授权你的地理位置',\n\t\t\t\t\t\t// \tshowCancel: false,\n\t\t\t\t\t\t// \tsuccess() {\n\t\t\t\t\t\t// \t\tuni.openSetting({\n\t\t\t\t\t\t// \t\t\tsuccess(res) {\n\t\t\t\t\t\t// \t\t\t\tconsole.log(res)\n\t\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t\t// \t\t})\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// })\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render, staticRenderFns\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3ca8f0d7', component.options)\n    } else {\n      api.reload('3ca8f0d7', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"G:/小程序/bld-me/App.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}