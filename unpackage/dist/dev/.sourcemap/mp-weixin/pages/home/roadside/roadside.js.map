{"version":3,"sources":["webpack:///G:/小程序/bld-me/pages/home/roadside/roadside.vue","webpack:///G:/小程序/bld-me/pages/home/roadside/roadside.vue?2926","webpack:///G:/小程序/bld-me/pages/home/roadside/roadside.vue?b1e7","webpack:///G:/小程序/bld-me/pages/home/roadside/roadside.vue?9c53","webpack:///G:/小程序/bld-me/pages/home/roadside/roadside.vue?fc6a","webpack:///G:/小程序/bld-me/pages/home/roadside/roadside.vue?b84b","webpack:///G:/小程序/bld-me/pages/home/roadside/roadside.vue?1ad7"],"names":["components","YYPickStore","data","sss_id","storeFlag","storeList","checkStoreMsg","locationName","markers","id","latitude","longitude","tel","arrayTrailer","railerIndex","arrayBXComponeny","compIndex","openSettingNum","isLocation","computed","watch","getIsLocation","v","getYyIndexMsg","getUserInfo","getLocationInfo","onReady","e","mapCtx","wx","createMapContext","onLoad","option","scene","decodeURIComponent","sssId","split","$hasToken","then","onShareAppMessage","res","path","onShow","that","uni","getSetting","success","authSetting","undefined","getCurrentPages","length","showModal","title","content","r","confirm","openSetting","console","log","methods","authorize","scope","getLocation","type","coords","getApp","globalData","coordsToLocationName","authLocation","fail","errMsg","code","result","user_info","mobile","distance","toFixed","yuyueStore","page_no","page_size","list","cities","i","j","stores","checkStore","storeMsg","mapChange","mapChangeEnd","getCenterLocation","status","showToast","message","icon","address","moveToLocation","trailerPickerChange","detail","value","CompChange","notLogin","confirmColor","navigateTo","url","toCall","getStorageSync","test","map_latitude","map_longitude","store_id","is_trailer","insurer","Number","showLoading","mask","user_phone","hideLoading","rescue_phone","showCancel","cancelText","confirmText","makePhoneCall","phoneNumber","toStoreList"],"mappings":"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","file":"pages/home/roadside/roadside.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport YYPickStore from '../../../components/home/baoyang/yuyuePickStore.vue'\nimport { \n\tstoreList,\n\tcallRescue\n} from '../../../api/home/index.js'\nimport {\n\tgetLocationName\n} from '../../../util/util.js'\nimport {\n\tshopDetail,\n\tuser\n} from \"../../../api/user.js\"\nimport {mapMutations,mapGetters} from \"vuex\"\nimport {bd09togcj02,gcj02tobd09}  from \"../../../util/util.js\"\nexport default {\n\tcomponents: {\n\t\tYYPickStore\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsss_id: '', // 4s店id\n\t\t\tstoreFlag: false, // 是否弹出选择门店\n\t\t\tstoreList: [], // 预约门店列表\n\t\t\tcheckStoreMsg: null, // 选中的4s店信息\n\t\t\tlocationName: '',\n\t\t\tmarkers: [{\n\t\t\t\tid: 0,\n\t\t\t\tlatitude: '',\n\t\t\t\tlongitude: ''\n\t\t\t}],\n\t\t\ttel:'',\n\t\t\tarrayTrailer: ['不需要', '需要'],\n\t\t\trailerIndex: 0,\n\t\t\t// 1：人保、2：平安、3：太平洋、4：人寿、5：大地、6：中华联合、7：阳光、8：其他\n\t\t\tarrayBXComponeny: ['人保', '平安', '太平洋', '人寿', '大地', '中华联合', '阳光', '其他'],\n\t\t\tcompIndex: 0,\n\t\t\topenSettingNum:1,\n\t\t\tisLocation:false\n\t\t}\n\t},\n\tcomputed: {\n\t \t...mapGetters(['getIsLocation'])\n\t},\n\twatch:{\n\t\tgetIsLocation(v){\n\t\t\tif(v){\n\t\t\t\tthis.getYyIndexMsg(); \n\t\t\t\tthis.getUserInfo();\n\t\t\t\tthis.getLocationInfo()\n\t\t\t}\n\t\t}\n\t},\n\tonReady: function(e) {\n\t\tthis.mapCtx = wx.createMapContext('myMap')\n\t},\n\tonLoad(option) {\n\t\tif(option.scene){\n\t\t\t//小程序二维码\n\t\t\tconst scene = decodeURIComponent(option.scene);\n\t\t\tconst sssId = option.scene.split(\"-\")[0];\n\t\t\tthis.sss_id = sssId \n\t\t}else if(option.sss_id){\n\t\t\t//小程序分享进入或正常进入\n\t\t\tthis.sss_id = option.sss_id \n\t\t}\n\t\tthis.$hasToken().then(() => {\n\t\t\tthis.getYyIndexMsg(); \n\t\t\tthis.getUserInfo();\n\t\t})\n\t\t\n\t},\n\tonShareAppMessage(res) {\n\t\treturn {\n\t\t  path: 'pages/home/roadside/roadside?sss_id='+this.sss_id\n\t\t}\n\t},\n\tonShow() {\n\t\tlet that = this\n\t\tuni.getSetting({\n\t\t\tsuccess(res) { \n\t\t\t\tif (res.authSetting['scope.userLocation'] === undefined) {\n\t\t\t\t\t// 未授权过位置信息 \n\t\t\t\t\tthat.markers[0].latitude = '30.271047'\n\t\t\t\t\tthat.markers[0].longitude = '120.163346'\n\t\t\t\t\tif(getCurrentPages().length >1){\n\t\t\t\t\t\tthat.getLocationInfo()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 拒绝授权120.169813,30.276905\n\t\t\t\tif (res.authSetting['scope.userLocation'] === false) { \n\t\t\t\t\tthat.markers[0].latitude = '30.271047'\n\t\t\t\t\tthat.markers[0].longitude = '120.163346'\n\t\t\t\t\tif(that.openSettingNum>1) {return}\n\t\t\t\t\tif(getCurrentPages().length >1){\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提醒',\n\t\t\t\t\t\t\tcontent: '为了更好的享受我们的服务，请授权你的地理位置',\n\t\t\t\t\t\t\tsuccess(r) {\n\t\t\t\t\t\t\t\tif (r.confirm) {\n\t\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\tthat.openSettingNum++\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.authSetting['scope.userLocation'] === true) {\n\t\t\t\t\tconsole.log('一授权')\n\t\t\t\t\tthat.getLocationInfo()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t},\n\tmethods: {\n\t\t...mapMutations(['authLocation']),\n\t\tgetLocationInfo(){\n\t\t\tlet that = this\n\t\t\tuni.authorize({\n\t\t\t\tscope: 'scope.userLocation',\n\t\t\t\tsuccess() {\n\t\t\t\t\tuni.getLocation({\n\t\t\t\t\t\ttype: 'gcj02',\n\t\t\t\t\t\tsuccess: function(res) { \n\t\t\t\t\t\t\tlet coords = gcj02tobd09(res.longitude,res.latitude) \n\t\t\t\t\t\t\tgetApp().globalData.longitude = coords[0]; //当前位置的经度\n\t\t\t\t\t\t\tgetApp().globalData.latitude = coords[1]; //当前位置的纬度  \n\t\t\t\t\t\t\tthat.markers[0].latitude = res.latitude\n\t\t\t\t\t\t\tthat.markers[0].longitude = res.longitude\n\t\t\t\t\t\t\tthat.coordsToLocationName({\n\t\t\t\t\t\t\t\tlatitude: res.latitude,\n\t\t\t\t\t\t\t\tlongitude: res.longitude\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthat.isLocation = true\n\t\t\t\t\t\t\tthat.authLocation()\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail:function (){\n\t\t\t\t\t\t\tthat.authLocation()\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail(e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tlet that = this;\n\t\t\t\t\tif (e.errMsg == \"authorize:fail auth deny\") { \n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提醒',\n\t\t\t\t\t\t\tcontent:'为了更好的享受我们的服务，请授权你的地理位置', \n\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 用户信息\n\t\tgetUserInfo(){\n\t\t\tuser().then(res=>{\n\t\t\t\tif(res.data.code == 0) {\n\t\t\t\t\tthis.tel = res.data.result.user_info.mobile\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取预约车辆/门店信息\n\t\tgetYyIndexMsg() {\n\t\t\tshopDetail({\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.sss_id\n\t\t\t\t}\n\t\t\t}).then((res) => { \n\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\tres.data.result.distance = res.data.result.distance > 0 ?(res.data.result.distance / 1000).toFixed(2) :''\n\t\t\t\t\tthis.checkStoreMsg = res.data.result;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 选择预约店铺\n\t\tyuyueStore() {\n\t\t\tif (this.storeList.length != 0) {\n\t\t\t\tthis.storeFlag = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.storeFlag = true;\n\t\t\tstoreList({\n\t\t\t\tdata: {\n\t\t\t\t\tpage_no: '1',\n\t\t\t\t\tpage_size: '1000'\n\t\t\t\t}\n\t\t\t}).then(res => { \n\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\tlet list = res.data.result.cities\n\t\t\t\t\tfor(let i in list) {\n\t\t\t\t\t\tfor (let j in list[i].stores){\n\t\t\t\t\t\t\tlist[i].stores[j].distance = list[i].stores[j].distance > 0 ? (list[i].stores[j].distance / 1000).toFixed(2) :''\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\tthis.storeList = list;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 选择店铺\n\t\tcheckStore(storeMsg) { \n\t\t\tthis.storeFlag = false;\n\t\t\tif (storeMsg != 'close') {\n\t\t\t\tthis.checkStoreMsg = storeMsg;\n\t\t\t\tthis.sss_id = storeMsg.id;\n\t\t\t}\n\t\t},\n\t\tmapChange(){}, //不能删除\n\t\t// 移动地图\n\t\tmapChangeEnd(e) {\n\t\t\tvar that = this; \n\t\t\t\n\t\t\t\n\t\t\tthis.mapCtx.getCenterLocation({\n\t\t\t\tsuccess(res) { \n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tlatitude: res.latitude,\n\t\t\t\t\t\tlongitude: res.longitude\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthat.markers = [{\n\t\t\t\t\t\tid: 0,\n\t\t\t\t\t\tlatitude: res.latitude,\n\t\t\t\t\t\tlongitude: res.longitude\n\t\t\t\t\t}] \n\t\t\t\t\tif(!that.isLocation) {return}\n\t\t\t\t\t// 获取的经纬度转换成地理位置名称\n\t\t\t\t\tthat.coordsToLocationName(data)\n\t\t\t\t}\n\t\t\t})\n\t\t}, \n\t\t// 经纬度换算具体位置\n\t\tcoordsToLocationName(data){\n\t\t\tgetLocationName(data).then((res) => { \n\t\t\t\tif(res.status!=0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:res.message,\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.locationName = res.result.address;\n\t\t\t})\n\t\t},\n\t\t// 重置地图位置\n\t\tmoveToLocation() {\n\t\t\tthis.mapCtx.moveToLocation();\n\t\t},\n\t\t// 是否需要拖车\n\t\ttrailerPickerChange: function(e) {\n\t\t\tthis.railerIndex = e.detail.value; \n\t\t},\n\t\t// 保险公司\n\t\tCompChange: function(e) {\n\t\t\tthis.compIndex = e.detail.value; \n\t\t},\n\t\tnotLogin(){\n\t\t\tvar that = this;\n\t\t\tuni.showModal({ \n\t\t\t\ttitle:'登录提醒',\n\t\t\t\tcontent:'您还没有登录，请先登录',\n\t\t\t\tconfirmColor:\"#B49A83\",\n\t\t\t\tsuccess(r) {\n\t\t\t\t\tif(r.confirm) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl:'/pages/login/login'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 发起定位并呼叫\n\t\ttoCall() {\n\t\t\tif(uni.getStorageSync('isMobile') != 1){\n\t\t\t\tthis.notLogin()\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!/^1[3456789]\\d{9}$/.test(this.tel)){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'请输入正确的手机号',\n\t\t\t\t\ticon:'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet coords = gcj02tobd09(this.markers[0].longitude,this.markers[0].latitude)\n\t\t\tlet map_latitude = coords[1];\n\t\t\tlet map_longitude = coords[0];\n\t\t\t\n\t\t\tlet address = this.locationName;\n\t\t\tlet store_id = this.checkStoreMsg.id;\n\t\t\tlet is_trailer = this.railerIndex;\n\t\t\tlet insurer = Number(this.compIndex) + 1;\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'提交中...',\n\t\t\t\tmask:true\n\t\t\t}) \n\t\t\tcallRescue({\n\t\t\t\tdata: {\n\t\t\t\t\tmap_latitude: map_latitude + \"\", // 地图上的标记纬度\n\t\t\t\t\tmap_longitude: map_longitude + \"\", // 地图上的标记经度\n\t\t\t\t\taddress: address, // 详细地址\n\t\t\t\t\tstore_id: store_id, // 救援门店id\n\t\t\t\t\tuser_phone: this.tel, // 用户手机号\n\t\t\t\t\tis_trailer: is_trailer + \"\", // 是否需要拖车，0：不需要，1：需要\n\t\t\t\t\tinsurer: insurer +\"\" // 保险（1：人保、2：平安、3：太平洋、4：人寿、5：大地、6：中华联合、7：阳光、8：其他）\n\t\t\t\t}\n\t\t\t}).then((res) => {\n\t\t\t\tuni.hideLoading() \n\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\tlet that = this\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle:'拨打电话',\n\t\t\t\t\t\tcontent:this.checkStoreMsg.rescue_phone,\n\t\t\t\t\t\tshowCancel:true,\n\t\t\t\t\t\tcancelText:'取消',\n\t\t\t\t\t\tconfirmText:\"呼叫\",\n\t\t\t\t\t\tconfirmColor:\"#C9AD94\",\n\t\t\t\t\t\tsuccess(r) {\n\t\t\t\t\t\t\tif(r.confirm) {\n\t\t\t\t\t\t\t\tuni.makePhoneCall({\n\t\t\t\t\t\t\t\t\tphoneNumber: that.checkStoreMsg.rescue_phone //仅为示例\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\t\ttoStoreList() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../storeList/storeList'\n\t\t\t})\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./roadside.vue?vue&type=template&id=3e9b91b8&\"\nimport script from \"./roadside.vue?vue&type=script&lang=js&\"\nexport * from \"./roadside.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roadside.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3e9b91b8', component.options)\n    } else {\n      api.reload('3e9b91b8', component.options)\n    }\n    module.hot.accept(\"./roadside.vue?vue&type=template&id=3e9b91b8&\", function () {\n      api.rerender('3e9b91b8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"G:/小程序/bld-me/pages/home/roadside/roadside.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./roadside.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./roadside.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./roadside.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./roadside.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./roadside.vue?vue&type=template&id=3e9b91b8&\""],"sourceRoot":""}