{"version":3,"sources":["webpack:///G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue","webpack:///G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue?968e","webpack:///G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue?8fa0","webpack:///G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue?caad","webpack:///G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue?8809","webpack:///G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue?aec4","webpack:///G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue?00a8"],"names":["data","goodsId","deliveryIndex","deliveryType","deliveryMethod","userAddresss","store","product","price","isShowChooseTime","times","order_type","orderToken","chooseTimeStr","addressNum","components","ZiTiTime","onLoad","opts","id","getDetail","uni","hideShareMenu","onShow","console","log","methods","getAddrList","page_no","page_size","then","res","code","result","addresses","length","defaultAddress","i","address","is_default","showLoading","title","mask","product_id","quantity","hideLoading","order_token","delivery_method","period_list","delivery_type","day","dateUse","substring","JSON","stringify","catch","openUserAddress","navigateTo","url","openAddAddress","changeWlType","e","detail","value","showChooseTime","closeDateModal","chooseDateString","chooseTimeString","handleCount","c","parseInt","toCreatOrder","showToast","icon","address_id","tiem","payMent","order_no","order_id","orderNo","orderId","source","ssss_id","getStorageSync","timeStamp","nonceStr","signType","paySign","packAge","package","requestPayment","provider","success","fail","err"],"mappings":"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","file":"pages/mall/submit-order/submit-order.js","sourcesContent":["//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n \r\nimport ZiTiTime from \"../../../components/ziti-time/ziti-time.vue\"\r\n\timport {preOrderDetail,createOrder,addressList,payOrder} from \"../../../api/mall.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgoodsId:'',// 商品id\r\n\t\t\t\tdeliveryIndex:0,\r\n\t\t\t\tdeliveryType:2, // 发货方式 1 自提 ； 2 快递\r\n\t\t\t\tdeliveryMethod:[ ],\r\n\t\t\t\tuserAddresss:{ },// 收货地址\r\n\t\t\t\tstore:{}, // 门店信息\r\n\t\t\t\tproduct:{}, // 商品信息\r\n\t\t\t\tprice:{}, // 商品金额\r\n\t\t\t\tisShowChooseTime:false,\r\n\t\t\t\ttimes:null, \r\n\t\t\t\torder_type:1, // 订单类型 1 实体商品 2权益商品\r\n\t\t\t\torderToken:'', // 订单的token\r\n\t\t\t\tchooseTimeStr:'',// 选择的提货时间点\r\n\t\t\t\taddressNum:-1// 收货地址列表数量 \r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{ \r\n\t\t\tZiTiTime\r\n\t\t},\r\n\t\tonLoad(opts) {\r\n\t\t\tthis.goodsId = opts.id || ''\r\n\t\t\tthis.getDetail()\r\n\t\t\tuni.hideShareMenu({ })\r\n\t\t}, \r\n\t\tonShow() {\r\n\t\t\tconsole.log(this.userAddresss)\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t// 获取收货地址列表\r\n\t\t\tgetAddrList(){\r\n\t\t\t\taddressList({\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tpage_no:1,\r\n\t\t\t\t\t\tpage_size:100\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.data.code == 0) {\r\n\t\t\t\t\t\tthis.addressNum = res.data.result.addresses.length\r\n\t\t\t\t\t\tlet defaultAddress = {}\r\n\t\t\t\t\t\tfor(let i in res.data.result.address) {\r\n\t\t\t\t\t\t\tif(res.data.result.address[i].is_default == 1) {\r\n\t\t\t\t\t\t\t\tdefaultAddress = res.data.result.address[i]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.userAddresss = defaultAddress\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取下单前的详情\r\n\t\t\tgetDetail(){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中...',\r\n\t\t\t\t\tmask:true\r\n\t\t\t\t})\r\n\t\t\t\tpreOrderDetail({\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tproduct_id:this.goodsId,\r\n\t\t\t\t\t\tquantity:this.product.quantity || 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif(res.data.code == 0) {\r\n\t\t\t\t\t\tlet {order_token,order_type,delivery_method=[],address,store,product,price,period_list=[] } = res.data.result\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.orderToken = order_token\r\n\t\t\t\t\t\tthis.order_type = order_type \r\n\t\t\t\t\t\tthis.deliveryMethod = delivery_method \r\n\t\t\t\t\t\tthis.deliveryType = delivery_method.length != 0 ? delivery_method[this.deliveryIndex].delivery_type : ''\r\n\t\t\t\t\t\tthis.userAddresss = address || {}\r\n\t\t\t\t\t\tthis.store = store || {}\r\n\t\t\t\t\t\tthis.price = price\r\n\t\t\t\t\t\tthis.product = product || {}   \r\n\t\t\t\t\t\tfor(let i in period_list) {\r\n\t\t\t\t\t\t\tif(period_list[i].day) {\r\n\t\t\t\t\t\t\t\tperiod_list[i].dateUse = period_list[i].day.substring(5, 10)\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.times = period_list\r\n\t\t\t\t\t\tif(order_type == 1 && JSON.stringify(address) == \"{}\") {\r\n\t\t\t\t\t\t\tthis.getAddrList()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(()=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 打开用户的地址列表\r\n\t\t\topenUserAddress(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/mall/user-address/user-address?fromPage=submitOrder`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 打开添加收货地址界面\r\n\t\t\topenAddAddress(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/mall/edit-address/edit-address?fromPage=submitOrder`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择货运类型\r\n\t\t\tchangeWlType(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.deliveryIndex = e.detail.value\r\n\t\t\t\tthis.deliveryType = this.deliveryMethod[this.deliveryIndex].delivery_type\r\n\t\t\t},\r\n\t\t\tshowChooseTime(){\r\n\t\t\t\tthis.isShowChooseTime = true\r\n\t\t\t},\r\n\t\t\t// 关闭时间选择器\r\n\t\t\tcloseDateModal(data=null){\r\n\t\t\t\tthis.isShowChooseTime = false\r\n\t\t\t\tif(data) {\r\n\t\t\t\t\tthis.chooseTimeStr = data.chooseDateString + ' ' + data.chooseTimeString\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 数量加减\r\n\t\t\thandleCount(c){\r\n\t\t\t\tif(this.product.quantity==1 && c==-1) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.product.quantity = parseInt(this.product.quantity) + c\r\n\t\t\t\tthis.getDetail()\r\n\t\t\t},\r\n\t\t\t// 点击提交下单\r\n\t\t\ttoCreatOrder(){ \r\n\t\t\t\tif(this.order_type==1 && this.deliveryType == 2 && !this.userAddresss.id){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'收货地址不能为空',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.order_type==1 && this.deliveryType == 1 && this.chooseTimeStr == ''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请选择提货时间段',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'处理中...',\r\n\t\t\t\t\tmask:true\r\n\t\t\t\t})\r\n\t\t\t\tcreateOrder({\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\torder_token: this.orderToken,\r\n\t\t\t\t\t\torder_type: this.order_type,\r\n\t\t\t\t\t\tdelivery_type: this.order_type==2?'':this.deliveryType,\r\n\t\t\t\t\t\tproduct_id: this.goodsId,\r\n\t\t\t\t\t\tquantity: this.product.quantity,  \r\n\t\t\t\t\t\taddress_id: this.userAddresss.id,\r\n\t\t\t\t\t\ttiem: this.chooseTimeStr\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.payMent(res.data.result.order_no,res.data.result.order_id)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 支付\r\n\t\t\tpayMent(orderNo,orderId){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'正在支付...',\r\n\t\t\t\t\tmask:true\r\n\t\t\t\t})\r\n\t\t\t\tpayOrder({\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\torder_no:orderNo,\r\n\t\t\t\t\t\tsource:'mini',\r\n\t\t\t\t\t\tssss_id: uni.getStorageSync('ssssId')\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif(res.data.code == 0) {\r\n\t\t\t\t\t\tlet {timeStamp,nonceStr\t,signType,paySign} = res.data.result\r\n\t\t\t\t\t\tlet packAge = res.data.result.package\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\ttimeStamp: timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: nonceStr,\r\n\t\t\t\t\t\t\tpackage: packAge,\r\n\t\t\t\t\t\t\tsignType: signType,\r\n\t\t\t\t\t\t\tpaySign: paySign,\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t// if(res.)\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl:'/pages/user/my-order-detail/my-order-detail?orderId=' + orderId\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function (err) {\r\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./submit-order.vue?vue&type=template&id=33de83d9&\"\nimport script from \"./submit-order.vue?vue&type=script&lang=js&\"\nexport * from \"./submit-order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submit-order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('33de83d9', component.options)\n    } else {\n      api.reload('33de83d9', component.options)\n    }\n    module.hot.accept(\"./submit-order.vue?vue&type=template&id=33de83d9&\", function () {\n      api.rerender('33de83d9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"G:/小程序/bld-me/pages/mall/submit-order/submit-order.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./submit-order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./submit-order.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./submit-order.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./submit-order.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./submit-order.vue?vue&type=template&id=33de83d9&\""],"sourceRoot":""}